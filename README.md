# Flat JSON Converter (Lab 3)

# Краткое описание проекта
Консольная утилита для обработки JSON-файлов. Приложение предназначено для преобразования сложной вложенной структуры JSON в "плоский" вид (Flat JSON), где ключи формируются через точку. Также утилита позволяет выполнять поиск значений по ключу и фильтрацию объектов.

**Технологический стек:**
*   **Язык:** Java 21
*   **Сборка:** Gradle
*   **Обработка JSON:** Библиотека Jackson
*   **Тестирование:** JUnit 5
*   **Качество кода:** Checkstyle, JaCoCo (покрытие тестами > 75%)
*   **CI/CD:** GitHub Actions

# Пример работы

**Входные данные (`input.json`):**
```json
{
  "request_id": "tx-123",
  "payload": {
    "user": {
      "name": "Alice",
      "address": {
        "city": "New York",
        "zip": "10001"
      },
      "status": "ACTIVE"
    }
  }
}
```

**Результат работы (в консоли):**
```json
{
  "request_id": "tx-123",
  "payload.user.name": "Alice",
  "payload.user.address.city": "New York",
  "payload.user.address.zip": "10001",
  "payload.user.status": "ACTIVE"
}
```
*Также при запуске выводится результат поиска по заданному ключу.*

# Сборка проекта

Для сборки проекта используется Gradle Wrapper, поэтому установка Gradle в систему не требуется.

1. Откройте терминал в корне проекта.
2. Запустите команду сборки:

**Linux / macOS:**
```bash
./gradlew clean build
```

**Windows:**
```powershell
.\gradlew clean build
```

После успешной сборки исполняемый JAR-файл будет находиться по пути:
`app/build/libs/app.jar`

# Конфигурация проекта

Настройки приложения находятся в файле `app/app.properties`. Этот файл не хранится в репозитории (добавлен в `.gitignore`), поэтому перед запуском его необходимо создать или проверить его наличие.

**Пример содержимого `app.properties`:**

```properties
# Ключ, значение которого нужно найти и вывести в лог
search.key=payload.user.address.city

# Ключ для фильтрации JSON-объектов
filter.key=payload.user.status

# Значение для фильтрации (оставить объекты, где filter.key == filter.value)
filter.value=ACTIVE
```

Путь к входному JSON-файлу задается через переменную окружения `INPUT_JSON`.

# Запуск тестов

Проект настроен на автоматическое выполнение тестов и проверку качества кода.

**Запуск всех проверок (Unit-тесты + Checkstyle + JaCoCo):**

**Linux / macOS:**
```bash
./gradlew check
```

**Windows:**
```powershell
.\gradlew check
```

**Результаты:**
*   Если тесты прошли успешно, в консоли будет сообщение `BUILD SUCCESSFUL`.
*   Отчет о покрытии кода (JaCoCo) можно найти здесь: `app/build/reports/tests/test/index.html`.
*   Если покрытие кода бизнес-логики упадет ниже 75% или найдутся ошибки стиля (Checkstyle), сборка завершится ошибкой.

# Запуск приложения

После успешной сборки приложение можно запустить следующей командой:

```bash
java -jar app/build/libs/app.jar
```

Либо используя Gradle:

```bash
./gradlew :app:run
```
*(Убедитесь, что файл `app.properties` находится в рабочей директории или настроен корректно).*